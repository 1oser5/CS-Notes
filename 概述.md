+ [基本特征](#1)
  + [1.并发](#1.1)
  + [2.共享](#1.2)
  + [3.虚拟](#1.3)
  + [4.异步](#1.4)
+ [基本功能](#2)
  + [1.进程管理](#2.1)
  + [2.内存管理](#2.2)
  + [3.设备管理](#2.3)
+ [系统调用](#3)
+ [大内核和微内核](#4.1)
  + [1.大内核](#4.2)
  + [2.微内核](#4.3)
+ [中断分类](#5)
  + [1.外中断](#5.1)
  + [2.异常](#5.2)
  + [3.陷入](#5.3)
  
# 基本特征 <span id = "1"> <span>
## <span id ="1.1">1.并发</span>
并发是指在宏观上**一段时间内**能同时运行多个程序  

并行则值**同一时刻内**能允许多个指令。并行需要硬件支持，如多流水线，多核处理器或者分布式系统  

操作系统引入线程和线程，使得程序能够并发运行
## 2.共享 <span id = "1.2"> <span>
共享是指系统中的资源可以被多个并发程序共同使用  

有两种共享方式：**互斥共享和同时共享**  

互斥共享的资源称为临界资源，例如打印机，在同一时刻只允许一个进程访问，需要使用同步机制来实现互斥访问  

同时共享，例如磁盘设备。同时是指宏观上的，在微观上可能是分时共享  

## 3.虚拟<span id = "1.3"> <span>
虚拟计数把一个物理实体转化为多个逻辑实体  

主要有两种虚拟技术：时（时间）分复用技术  和 空（空间）分复用技术  

多个进程能在同一处理器上并发执行使用了时分复用技术，让每个进程轮占用处理器。每次只执行一小个时间片并快速切换  

虚拟内存使用了空分复用技术，它将物理内存抽象为地址空间，每个进程都有各自的地址空间。地址空间的页被映射到物理内存中，地址空间的页并不需要全部存在物理内存中，当使用一个没有物理内存的页是，执行页面置换算法，将该页置换到内存中

## 4.异步<span id = "1.4"> <span>
异步指进程不是一次执行完毕，而是走走停停，已不可知的速度向前推进

# 基本功能<span id = "2"> <span>
## 1.进程管理<span id = "2.1"> <span>
进程控制、进程同步、进程通信、死锁处理、处理机调度等
## 2.内存管理<span id = "2.2"> <span>
内存分配、地址映射、内存保护与共享、虚拟内存等
## 3.文件管理<span id = "2.3"> <span>
文件存储空间的管理、目录管理、文件读写管理和保护等
## 4.设备管理<span id = "2.4"> <span>
完成用户的 I/O 请求，方便用户使用各种设备，并提高设备利用率

主要包括缓存管理、设备分配、设备处理、虚拟设备等

# 系统调用<span id = "3"> <span>
如果一个进程在用户态需要使用内核态的功能，就进行系统调用从而陷入内核，由操作系统代为完成。

![avatar](/pic/tGPV0.png)

Linux 的系统调用主要有以下这些：

| Task | Commands |  
| :--: | :--:|  
| 进程控制 | fork();exit();wait() |
| 图像控制 | pipe();shmget();mmap(); |  
| 文件操作 | open();read();write(); |
| 设备操作 | getpid();alarm();sleep(); |
| 安全 | chmod();umask(); chown();|


# 大内核和微内核<span id = "4"> <span>
## 1.大内核<span id = "4.1"> <span>
大内核是将操作系统功能作为一个紧密结合的整体放到内核

由于各模块共享信息，因此有很高的性能

## 2.微内核<span id = "4.2"> <span>
由于操作系统的不断复杂，因此将一部分操作系统功能移出内核，从而降低内核的复杂度，移出的部分根据分层的原则划分成若干服务，相互独立。

在微内核结构下，操作系统被划分成小的，定义良好的模块，只有微内核这一个模块运行在内核态，其余模块运行在用户态。

由于需要频繁地在用户态和核心态之间切换，所以会有一定的性能损失。  

![avatar](/pic/2_14_microkernelArchitecture.jpg)

# 中断分类<span id = "5"> <span>
## 1.外中断<span id = "5.1"> <span>
由 CPU 执行指令以外的事件引起，如 I/O 完成中断，表示设备输入/输出处理完成，处理器能够发送下一个输入/输出请求，此外还有时钟中断，控制台中断。
## 2.异常<span id = "5.2"> <span>
由 CPU 执行指令的内部事件引起，如非法操作码、地址越界、算术移除等。
## 3.陷入<span id = "5.3"> <span>
在用户程序中使用系统调用
